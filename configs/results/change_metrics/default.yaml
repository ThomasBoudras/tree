resolution: 1.5  # resolution at which to compute change, use bilinear interpolation on input images to match resolution if necessary
threshold_list: 
  threshold : [-5, -10, -15, -20] # minimum change in height (in meters)
  percentage : [0.3, 0.5, 0.7]
  treecover : [2]

min_area_list: [10, 25, 100, 200, 300, 400] # minimum area of a contiguous change of more than threshold (in square meters)
# threshold_list: [-10] # minimum change in height (in meters)
# min_area_list: [100] # minimum area of a contiguous change of more than threshold (in square meters)
classes_to_keep: [1, 2, 3, 4, 5, 6]  # classes on which to compute change metrics (cf. cf. https://geoservices.ign.fr/sites/default/files/2023-10/DC_LiDAR_HD_1-0_PTS.pdf)

threshold_fig: 
  threshold : -10  # minimum change in height (in meters) used for plots
  percentage : 0.5
  treecover : 2
min_area_fig: 100  # minimum area of a contiguous change of more than threshold (in square meters) used for plots

model : Open_canopy
nb_version : 1
version : v${nb_version}_${model}
data_dir : /work/data
root_dir: /work/work/tree/logs
extract_tif: true # extract a tif image from predictions with the same bounds as labels from which the mask is computed, and also extract masked images from labels to mask on

year_1: 2022
year_2: 2023

labels_1:
  path: ${data_dir}/changes_detections/lidar_1.tif
  unit: dm # m(meter), dm(decimeter), cm(centimeter)
  crs: 2154
  mask_on: false

labels_2:
  path: ${data_dir}/changes_detections/lidar_2_m.tif
  unit: m # m(meter), dm(decimeter), cm(centimeter)
  crs: 2154
  mask_on: true

classification:
  year: 2022
  path: ${data_dir}/changes_detections/lidar_classification.tif
  crs: 2154

predictions_1:
  path: ${root_dir}/tree_predictions/${model}/${version}/predictions/Chantilly/${year_1}/${model}_${year_1}_pred_aoi.vrt
  # path : ${data_dir}/changes_detections/open_canopy_predictions_1_m.tif
  unit: m # m(meter), dm(decimeter), cm(centimeter)
  crs: 2154

predictions_2:
  path: ${root_dir}/tree_predictions/${model}/${version}/predictions/Chantilly/${year_2}/${model}_${year_2}_pred_aoi.vrt
  # path : ${data_dir}/changes_detections/open_canopy_predictions_2_m.tif
  unit: m # m(meter), dm(decimeter), cm(centimeter)
  crs: 2154

inputs_1:
  path: ${data_dir}/sentinel/composites/chantilly/2022/s2/s2_EPSG2154.vrt
  crs: 2154

inputs_2:
  path: ${data_dir}/sentinel/composites/chantilly/2023/s2/s2_EPSG2154.vrt
  crs: 2154

save_dir : ${root_dir}/change_detections
results_dir: ${save_dir}/${model}
